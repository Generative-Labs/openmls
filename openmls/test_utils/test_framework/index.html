<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This crate provides a framework to set up clients and groups using the OpenMLS managed_group API. To use the framework, start by creating a new `TestSetup` with a number of clients. After that, `create_clients` has to be called before the the `TestSetup` can be used."><meta name="keywords" content="rust, rustlang, rust-lang, test_framework"><title>openmls::test_utils::test_framework - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../openmls/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><h2 class="location">Module test_framework</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></div><div id="sidebar-vars" data-name="test_framework" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input"name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../../index.html">openmls</a>::<wbr><a href="../index.html">test_utils</a>::<wbr><a class="mod" href="#">test_framework</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/openmls/test_utils/test_framework/mod.rs.html#1-600" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This crate provides a framework to set up clients and groups using the
OpenMLS managed_group API. To use the framework, start by creating a new
<code>TestSetup</code> with a number of clients. After that, <code>create_clients</code> has to be
called before the the <code>TestSetup</code> can be used.</p>
<p>Note that due to lifetime issues, no new clients can be created after
initialization.</p>
<p>After initialization, the <code>TestSetup</code> enables the creation of groups using
<code>create_group</code>, which simply creates a one-member group, or
<code>create_random_group</code>, which creates a group of the given size with random
clients.</p>
<p>Existing groups are represented by the <code>groups</code> field of the <code>TestSetup</code> and
initial members can be instructed to either propose or commit adds, removes
or updates via the corresponding functions of <code>TestSetup</code>. Note, that these
functions require a <code>&amp;Group</code> reference, which can be obtained via the
<code>groups</code> field. When using these functions, the <code>TestSetup</code> fills the role
of the DS and automatically distributes the required KeyPackages and
resulting mls messages to the individual clients. Alternatively, the clients
can be manipulated manually via the <code>Client</code> struct, which contains their
group states.</p>
</div></details><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="mod" href="client/index.html" title="openmls::test_utils::test_framework::client mod">client</a></div><div class="item-right docblock-short"><p>This module provides the <code>Client</code> datastructure, which contains the state
associated with a client in the context of MLS, along with functions to have
that client perform certain MLS operations.</p>
</div><div class="item-left module-item"><a class="mod" href="errors/index.html" title="openmls::test_utils::test_framework::errors mod">errors</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="mod" href="messages/index.html" title="openmls::test_utils::test_framework::messages mod">messages</a></div><div class="item-right docblock-short"><p>This module contains code to serialize <code>MlsMessage</code>/<code>MlsMessageIn</code> as used
by the Managed API, which the Clients are built on. These
serialization/deserialization functions attach an additional byte that
indicates if a message is a plaintext or a ciphertext</p>
</div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.Group.html" title="openmls::test_utils::test_framework::Group struct">Group</a></div><div class="item-right docblock-short"><p>The <code>Group</code> struct represents the “global” shared state of the group. Note,
that this state is only consistent if operations are conducted as per spec
and messages are distributed correctly to all clients via the
<code>distribute_to_members</code> function of <code>TestSetup</code>, which also updates the
<code>public_tree</code> field.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.ManagedTestSetup.html" title="openmls::test_utils::test_framework::ManagedTestSetup struct">ManagedTestSetup</a></div><div class="item-right docblock-short"><p><code>ManagedTestSetup</code> is the main struct of the framework. It contains the
state of all clients, as well as the global <code>KeyStore</code> containing the
clients’ <code>CredentialBundles</code>. The <code>waiting_for_welcome</code> field acts as a
temporary store for <code>KeyPackage</code>s that are used to add new members to
groups. Note, that the <code>ManagedTestSetup</code> can only be initialized with a
fixed number of clients and that <code>create_clients</code> has to be called before it
can be otherwise used.</p>
</div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="enum" href="enum.ActionType.html" title="openmls::test_utils::test_framework::ActionType enum">ActionType</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="enum" href="enum.CodecUse.html" title="openmls::test_utils::test_framework::CodecUse enum">CodecUse</a></div><div class="item-right docblock-short"></div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="openmls" data-search-index-js="../../../search-index.js" data-search-js="../../../search.js"></div>
    <script src="../../../main.js"></script>
</body></html>